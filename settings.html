<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rescue Rush!</title>

    <!-- 共用 pwa 管理員 -->
    <script defer src="js/pwa-manager.js"></script>
        
    <!-- 共用 css -->
    <link rel="stylesheet" href="css/styles.css">

    <!-- 頁面專屬js -->
    <script type="module" src="js/settings.js"></script>

    <!-- 附加 components  -->
    <link rel="stylesheet" href="css/nana.css">
    <script defer src="js/nana.js"></script>


</head>
<body>
    <!-- 極光效果 -->
    <div class="aurora-effect"></div>

    <!-- Nana 圓形客服按鈕 -->
    <div class="floating-icon" onclick="toggleChat()"></div>

    <!-- 半透明黑色遮罩 -->
    <div id="overlay" class="overlay" onclick="toggleChat()">
        <!-- 氣溫顯示區塊 -->
        <div id="temperature-display" class="temperature-display">
            <div class="weather-card">
                <p class="card-title">今日氣溫</p>
                <p class="card-subtitle"><span id="city-today">北投區</span>．<span id="date-today"></span></p>
                <p class="card-content" id="temp-today">${low} - ${high}</p>
            </div>
            <div class="weather-card">
                <p class="card-title">明日氣溫</p>
                <p class="card-subtitle">北投區．<span id="date-tomorrow"></span></p>
                <p class="card-content" id="temp-tomorrow">${low} - ${high}</p>
            </div>
        </div>
    </div>


    <!-- 對話框選單 -->
    <div class="chatbox">
        <div class="chat-header"> Hi! 今天想要做什麼呢?</div>
        <div class="chat-body">
            <ul class="chat-options">
                <li onclick="handleOption('home')">首頁</li>
                <li onclick="handleOption('messages')">訊息</li>
                <li onclick="handleOption('sayhi')">打招呼</li>
                <li onclick="handleOption('settings')">PWA設定</li>
                <li onclick="updatePWA()">更新PWA</li>                
            </ul>
        </div>
    </div>






    <div class="header">        
        <div class="header-logo">            
            <div class="header-title" onclick="window.location.href='index.html'">Rescue Rush!</div>
        </div>        
        <div class="header-btn-menu">            
            <span class="btn-menu" onclick="window.location.href='messages.html'"><img src="images/bell_white.png"></span>
            <span class="btn-menu" onclick="window.location.reload()"><img src="images/reload_white.png"></span>
        </div>
    </div>


    <div class="container">
        <div class="content-box">
            <h1>設定</h2>

            <h2>測試indexedDB</h2>
            <div><button id="btn-test-idb">測試 indexedDB</button></div>
            

            
            <hr>
            

            <div id="form1">
                <h2>Firebase 連線參數設定</h2>
                <p>FirebaseConfig JSON String:</p>
                <textarea placeholder="請輸入 FirebaseConfig JSON String" id="firebaseConfigJSONString"></textarea>
                <p>vapidKey: <input type="text" placeholder="請輸入vapidKey" value="" id="vapidKey"></p>
                <div><button id="btn-form1-submit">儲存設定</button></div>
            </div>

            <hr>

            <h2>FCM Token 管理</h2>
            <p>fcmToken: <span id="fcmToken" style="word-wrap: break-word;"></span></p>
            <div><button id="btn-get-fcm-token">取得 fcmToken (接收推播)</button></div>
            <br>
            <div><button id="btn-delete-fcm-token">清除 fcmToken (關閉接收推播)</button></div>
            
        </div>
        <div>&nbsp;</div>
        <div>&nbsp;</div>
    </div>
</body>
</html>
